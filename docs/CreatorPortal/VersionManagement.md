# 游戏版本及实验

::: tip 阅读本文大概需要15分钟

本文将帮助您上手游戏版本管理功能，了解什么是AB实验，通过版本管理游戏上下线及版本实验。

::: 

您每次点击游戏发布&更新，都会形成一个游戏版本，可在【发布管理】-【版本管理】查看每个游戏的版本列表，版本管理支持您进行游戏上下线、游戏版本实验及版本的回滚操作等。

![CleanShot 2023-09-25 at 11.05.28](https://arkimg.ark.online/CleanShot%202023-09-25%20at%2011.05.28.webp)

## 版本管理

### 游戏发布设置

创作者中心发布游戏时，需要勾选发布的是立即上线还是手动上线。

![CleanShot 2023-09-25 at 11.12.23@2x](https://arkimg.ark.online/CleanShot%202023-09-25%20at%2011.12.23@2x.webp)

- **立即上线**：审核通过后会显示【上线】状态，表示该版本已经发布到233乐园；
- **手动上线**：审核通过后会显示【等待发布】状态，可以配置版本实验或手动上线；

> 若该版本开启了版本实验，则会显示【灰度测试中】，详见[游戏版本实验](https://docs.ark.online/CreatorPortal/VersionManagement.html#版本实验)

![img](https://arkimg.ark.online/1684028257005-126.webp)

### 如何下线游戏

点击目前上线的版本（除版本实验外，一个游戏仅会存在一个上线版本），即可下线游戏；

![CleanShot 2023-09-25 at 11.14.57@2x](https://arkimg.ark.online/CleanShot%202023-09-25%20at%2011.14.57@2x.webp)

### 自定义加载界面

039引擎后创作者可按照版本添加自定义加载界面。

#### 效果展示
*使用官方提供给的加载界面：*
![image](https://github.com/user-attachments/assets/8059fadc-f789-4b7b-9be6-1d6f619d5a02)

*使用自定义加载界面：*
![image](https://github.com/user-attachments/assets/9236e03f-53db-4446-a913-07e8e72222df)


#### 简单介绍
* 游戏的加载界面是玩家在游戏启动或加载过程中看到的界面。它的主要功能是告知玩家游戏正在加载，并提供视觉上的反馈以减少等待时间的无聊感。
* 口袋方舟编辑器支持创作者开发多场景游戏，除游戏启动时会拉起加载界面外，游戏内场景跳转时也会进入加载界面。
* 创作者在编辑游戏信息时，可选择编辑加载界面，创作者可以编辑【默认加载界面】或单独编辑【场景加载界面】。
* 可编辑的信息为背景图和至多5条、每条至多30个字的轮播文案。注意不要违规哦（*提交时会有审核！！！*）

#### 加载界面类型

- **默认加载界面**：未单独配置的场景将使用默认的加载界面
  - **官方提供**：创作者选择使用官方的默认加载界面
  - **自定义默认加载界面**：创作者可对背景图和轮播文案进行编辑，将编辑后的加载界面作为新的默认配置
- **场景加载界面**：对于某些场景，创作者不希望使用默认的加载界面，可以进行单独配置
  - **使用默认**：创作者未单独配置场景的加载界面，则使用默认加载界面
  - **自定义场景加载界面**：创作者可对指定场景的加载界面进行编辑
 
> 例子：当创作者开发了一个包含3个场景A、B、C的游戏，创作者在【默认加载界面】选择【自定义默认加载界面】并进行了编辑，此时提审通过后A、B、C三个场景都会应用此次编辑的配置。若创作者在此基础上，又在【场景加载界面】选择了场景A及【自定义场景加载界面】并进行编辑，提审通过后A将单独应用此次的配置。

#### 操作步骤

1. 提审游戏，进入游戏信息的编辑页面，在【其他设置-场景信息】的右上角找到【编辑】按钮
![image](https://github.com/user-attachments/assets/ebef1c6b-c9cb-4886-9a4f-6713a8cad4b8)

2. 选择对默认加载界面进行编辑
   1. 选择使用官方提供：此时只能查看，不能编辑文案或是修改背景图
![image](https://github.com/user-attachments/assets/bdcfa046-55dd-4ae1-a593-93109293bbac)

   2. 选择自定义默认加载界面：此时可上传背景图，推荐尺寸1080x1920，大小不要超过1M；可编辑至多5条文案，每条文案不能超过30字，并在预览图中查看文案轮播效果
![image](https://github.com/user-attachments/assets/3feaf86d-397f-4c15-b7db-2f9a21562bab)

   3. 点击一键同步素材，可将默认语言的加载背景图同步至其他语言；点击一键翻译，可将默认语言的加载文案同步至其他语言。注意有些简短的中文翻译成其他语言后可能会超过长度限制哦！
![image](https://github.com/user-attachments/assets/77d30a4a-bed1-4a7f-91fb-80b45c86931d)

3. 编辑场景加载界面
   1. 使用默认配置：表示该场景不进行单独配置，使用当前游戏的默认加载界面
![image](https://github.com/user-attachments/assets/d36a4556-7270-47b1-8f9b-0c9e2314d80a)

   2. 自定义场景加载界面：
![image](https://github.com/user-attachments/assets/072f474f-8fc4-4771-8970-546240e1bd0f)

4. 点击【提交】按钮，提交审核，此时在【其他设置-场景信息】出现【审核中】标志，审核中不可再进行编辑，游戏提审不必等待加载界面的审核完成，若游戏上线后，加载界面处于审核中或未过审，游戏将使用官方配置，加载界面审核通过后将直接应用在游戏中。
![image](https://github.com/user-attachments/assets/cc520dc3-6962-42d2-bf5d-dbcdb1d8dbe8)

5. 审核成功或审核失败：创作者将在系统通知中收到加载界面的审核结果
![image](https://github.com/user-attachments/assets/2fe3dc1f-9d97-44a8-9eca-b30f772699e5)
![image](https://github.com/user-attachments/assets/58bd4959-b254-43c4-bd82-a4ceb7941251)
![image](https://github.com/user-attachments/assets/31a1184f-a094-4a1d-a34c-49f6987f998a)
![image](https://github.com/user-attachments/assets/872f5f80-b7c7-45c4-a9df-909e0d84e2f9)
6. 游戏发版后，创作者可以点击版本管理，操作处会有【编辑加载界面】的按钮，点击可打开加载界面的编辑窗口。若当前版本游戏存在处于审核中的加载界面配置，则不能提交。
   ![image](https://github.com/user-attachments/assets/8d01e34c-f7f5-462f-8fb4-a9228c8a7678)


## 版本更新

### 游戏版本内容

### 更新内容触达

### 游戏版本加载


## 版本实验

版本实验是为了方便创作者有效迭代游戏，可通过游戏启动时分发不同的游戏版本进行实验。

> 版本实验的原理是A/B实验，将线上流量按照设置比例完全随机地分给组A和组B（控制变量），再结合统计方法，得到两组相对效果的准确估计（假设检验）。

实验开启后，线上的用户会完全随机地分给对照组A和实验组B，然后基于用户的行为数据指标进行分析，评估出相比之下更好的版本，帮助创作者进行迭代决策；A/B实验还允许在不同组别之间调配流量，满足游戏低风险迭代的要求。

![CleanShot 2023-09-25 at 11.17.09@2x](https://arkimg.ark.online/CleanShot%202023-09-25%20at%2011.17.09@2x.webp)

### 开启版本实验

审核通过后【版本列表】可以看到版本状态，需要存在【上线】+【等待发布】版本即可开启实验。

![CleanShot 2023-09-25 at 11.20.24@2x](https://arkimg.ark.online/CleanShot%202023-09-25%20at%2011.20.24@2x.webp)

::: danger 实验过程中，是否可以添加新的版本？

不可以！实验过程中，为了实验准确性，该游戏不可以有新版本上线或下线，会提示你先去关闭实验，关闭实验就可以正常操作游戏下线了；

::: 

> 如果这个游戏正在实验中，再发布一个立即上线的版本，审核通过后也不会立即上线，是**等待发布**的状态，需要实验关闭后，再去手动操作上线；

可以通过【游戏服务】-【版本实验】查看当前游戏的实验列表并对实验进行操作。

![CleanShot 2023-09-25 at 11.23.57@2x](https://arkimg.ark.online/CleanShot%202023-09-25%20at%2011.23.57@2x.webp)

### 设置版本实验

实验信息包含实验的游戏、名称、描述、时长等，其中最关键的是**选择核心指标**。

> 核心指标帮助判定实验是否符合预期效果，只有能计算置信水平的指标可以用作核心指标。

![CleanShot 2023-09-25 at 11.37.27@2x](https://arkimg.ark.online/CleanShot%202023-09-25%20at%2011.37.27@2x.webp)

::: danger 实验过程中的核心指标选什么？

建议根据本次实验的目的设置核心指标，鉴于指标本身属性，仅部分指标可以设置为核心指标。例如游戏时长、人均游戏次数以及客户端运行性能相关。

::: 

![MetaApp-游戏AB指标选择](https://arkimg.ark.online/MetaApp-%E6%B8%B8%E6%88%8FAB%E6%8C%87%E6%A0%87%E9%80%89%E6%8B%A9.webp)

实验参数主要是设置要进行实验的版本、流量分配，设置完点击调试实验：

- **设置实验版本**：设置本次参与实验的游戏版本，最多可设置2个实验组+一个对照组；
- **流量分配**：可对实验版本进行流量切分（想让小部分用户体验，实验组可设置10%的流量）；
- **添加白名单**：如果想让某些用户进入指定版本，可通过输入233号的方式添加至白名单；

![CleanShot 2023-09-25 at 11.40.10@2x](https://arkimg.ark.online/CleanShot%202023-09-25%20at%2011.40.10@2x.webp)

调试成功后，会来到实验列表页面，调试中的实验可以去修改实验配置，点击开始即可进行实验。

> 实验开启后，在版本列表页面，【等待发布】的版本会变成【灰度测试中】。

![CleanShot 2023-09-25 at 11.47.16@2x](https://arkimg.ark.online/CleanShot%202023-09-25%20at%2011.47.16@2x.webp)

### **查看实验报告**

实验报告提供游戏版本迭代依据，可查看实验报告后决策上线哪个游戏版本，实验开始后会在次日早上九点更新数据报告，点击查看报告即可查看实验数据。

![CleanShot 2023-09-25 at 11.49.30@2x](https://arkimg.ark.online/CleanShot%202023-09-25%20at%2011.49.30@2x.webp)

其中包含实验不同版本的用户进组情况占比、版本说明，以及实验设置里核心指标的置信程度。

![img](https://arkimg.ark.online/1684028257005-134.webp)

也可以继续查看实验版本的其他实验指标、新用户&活跃用户的留存情况。

<video controls src="https://cdn.233xyx.com/online/wTD5FmK86drq1695614338345.mp4"></video>

实验结束后，游戏分发会回到实验开始前，即原来是1.1.89是上线版本，那么结束实验这个版本还会是全量在线，需要根据实验的结果，调整版本的上下线。

![CleanShot 2023-09-25 at 12.01.37@2x](https://arkimg.ark.online/CleanShot%202023-09-25%20at%2012.01.37@2x.webp)

